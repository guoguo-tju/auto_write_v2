---
name: image-generator
description: æ ¹æ®æ–‡ç« ä¸­çš„å›¾ç‰‡é¢„ç•™ä½ç½®ï¼Œè°ƒç”¨ AI ç”Ÿå›¾ API ä¸ºæ–‡ç« ç”Ÿæˆé…å›¾ã€‚æ”¯æŒä¸Šä¸‹æ–‡æ„ŸçŸ¥çš„æç¤ºè¯ç”Ÿæˆï¼Œæ¯å¼ å›¾ç‰‡éƒ½éœ€ç”¨æˆ·ç¡®è®¤ã€‚
---

# é…å›¾ç”Ÿæˆ (Image Generator)

## æŒ‡ä»¤ (Instructions)

å½“ç”¨æˆ·å®Œæˆæ–‡ç« å†™ä½œå¹¶éœ€è¦é…å›¾æ—¶ï¼ŒæŒ‰ä»¥ä¸‹æµç¨‹æ‰§è¡Œï¼š

### 1. åˆå§‹åŒ–æ£€æŸ¥

**é¦–å…ˆæ£€æŸ¥é…ç½®æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼š**
```
è¯»å– writing-agent/.claude/config.json
```

å¦‚æœé…ç½®æ–‡ä»¶ä¸å­˜åœ¨æˆ– `apiKey` ä¸ºç©ºï¼Œå¼•å¯¼ç”¨æˆ·é…ç½®ï¼š
```
âš ï¸ æ£€æµ‹åˆ°å›¾ç‰‡ç”ŸæˆåŠŸèƒ½æœªé…ç½®

è¯·æä¾›ä»¥ä¸‹ä¿¡æ¯ï¼š
1. API Key: [å·²æœ‰é…ç½®ï¼Œè·³è¿‡]
2. API Endpoint: http://localhost:8317

é…ç½®å°†ä¿å­˜åˆ° .claude/config.json
```

å¦‚æœå·²é…ç½®ï¼Œæ˜¾ç¤ºé…ç½®çŠ¶æ€å¹¶ç»§ç»­ã€‚

### 2. æ‰«ææ–‡ç« ä¸­çš„å›¾ç‰‡é¢„ç•™ä½ç½®

**è¯»å–æ–‡ç« æ–‡ä»¶**ï¼Œæœç´¢å›¾ç‰‡é¢„ç•™æ ‡è®°ï¼š
```
æ ¼å¼: >>> ğŸ–¼ï¸ IMAGE: {description} <<<
```

æå–æ‰€æœ‰é¢„ç•™ä½ç½®ï¼Œè®°å½•ï¼š
- ä½ç½®ç´¢å¼•ï¼ˆç¬¬å‡ ä¸ªï¼‰
- é¢„ç•™æè¿°å†…å®¹
- æ‰€åœ¨æ®µè½ä½ç½®
- **ç« èŠ‚å®Œæ•´å†…å®¹**ï¼ˆé‡è¦ï¼ï¼‰ï¼šå‘å‰æŸ¥æ‰¾æœ€è¿‘çš„ `##` æˆ– `###` æ ‡é¢˜ä½œä¸ºç« èŠ‚å¼€å§‹ï¼Œå‘åæŸ¥æ‰¾ä¸‹ä¸€ä¸ªåŒçº§æˆ–æ›´é«˜çº§æ ‡é¢˜ä½œä¸ºç« èŠ‚ç»“æŸï¼Œæå–æ•´ä¸ªç« èŠ‚çš„æ–‡æœ¬å†…å®¹

**ç« èŠ‚æå–è§„åˆ™ï¼š**
1. ä»å›¾ç‰‡ä½ç½®å‘ä¸ŠæŸ¥æ‰¾ï¼Œæ‰¾åˆ°æœ€è¿‘çš„ `##` æˆ– `###` æ ‡é¢˜è¡Œ
2. ä»å›¾ç‰‡ä½ç½®å‘ä¸‹æŸ¥æ‰¾ï¼Œæ‰¾åˆ°ä¸‹ä¸€ä¸ª `##` æˆ– `###` æ ‡é¢˜è¡Œï¼ˆæˆ–æ–‡ä»¶æœ«å°¾ï¼‰
3. æå–è¿™ä¸¤ä¸ªæ ‡é¢˜ä¹‹é—´çš„æ‰€æœ‰æ–‡æœ¬å†…å®¹ï¼ˆåŒ…æ‹¬æ ‡é¢˜æœ¬èº«ï¼‰
4. ç§»é™¤å›¾ç‰‡é¢„ç•™æ ‡è®°æœ¬èº«ï¼Œä¿ç•™å…¶ä»–æ‰€æœ‰å†…å®¹

### 3. åŠ è½½å›¾ç‰‡é£æ ¼

**è¯»å–é£æ ¼æ–‡ä»¶ï¼š**
```
è¯»å– writing-agent/.claude/image-styles/è§†è§‰ç¬”è®°æ‰‹ç»˜.md
```

æ˜¾ç¤ºå½“å‰å¯ç”¨é£æ ¼ï¼š
```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“¸ å½“å‰å¯ç”¨é£æ ¼
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ“ è§†è§‰ç¬”è®°æ‰‹ç»˜ - æç®€æ‰‹ç»˜è‰å›¾ï¼Œé€‚åˆæ¦‚å¿µè§£é‡Šå’Œæµç¨‹å›¾è§£
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ä½¿ç”¨æ­¤é£æ ¼ï¼Ÿ(Y/N)
```

### 4. é€ä¸ªç”Ÿæˆå›¾ç‰‡

å¯¹äºæ¯ä¸ªé¢„ç•™ä½ç½®ï¼Œæ‰§è¡Œä»¥ä¸‹æµç¨‹ï¼š

#### 4.1 æ˜¾ç¤ºå›¾ç‰‡ä¿¡æ¯

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“¸ å›¾ç‰‡ {current}/{total}
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ä½ç½®: ç¬¬{paragraph}æ®µ
ç« èŠ‚: {chapter_title}
é£æ ¼: è§†è§‰ç¬”è®°æ‰‹ç»˜

é¢„ç•™æè¿°:
{description}

---

ç« èŠ‚å®Œæ•´å†…å®¹:
```
{chapter_content}
```

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

æç¤ºè¯é¢„è§ˆ:
{prompt_preview}
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

æ˜¯å¦ç”Ÿæˆæ­¤å›¾ç‰‡ï¼Ÿ (Y/ç¼–è¾‘æç¤ºè¯/N/è·³è¿‡å…¨éƒ¨)
```

#### 4.2 ç”¨æˆ·é€‰æ‹©å¤„ç†

- **Y** - ç»§ç»­æ‰§è¡Œè°ƒç”¨ API
- **ç¼–è¾‘æç¤ºè¯** - å…è®¸ç”¨æˆ·ä¿®æ”¹æç¤ºè¯ï¼Œç„¶åè¯¢é—®æ˜¯å¦ç”Ÿæˆ
- **N** - è·³è¿‡å½“å‰å›¾ç‰‡ï¼Œç»§ç»­ä¸‹ä¸€ä¸ª
- **è·³è¿‡å…¨éƒ¨** - é€€å‡ºé…å›¾æµç¨‹

#### 4.3 è°ƒç”¨ API ç”Ÿæˆ

**æ„å»ºå®Œæ•´çš„ API è¯·æ±‚ï¼š**

```bash
# ä½¿ç”¨ curl è°ƒç”¨ API
curl -X POST "{apiEndpoint}/v1/images/generations" \
  -H "Authorization: Bearer {apiKey}" \
  -H "Content-Type: application/json" \
  -d '{
    "model": "nano-banana-pro",
    "prompt": "{full_prompt}",
    "n": 1,
    "size": "1024x1024",
    "response_format": "b64_json"
  }'
```

**ä¿å­˜å›¾ç‰‡ï¼š**
```
ä¿å­˜è·¯å¾„: articles/{title}_images/image_{index:02d}.png
```

#### 4.4 ç¡®è®¤ç»“æœ

```
âœ… å›¾ç‰‡å·²ç”Ÿæˆå¹¶ä¿å­˜åˆ°: {save_path}

é¢„è§ˆå›¾ç‰‡ï¼ˆå¦‚æœå¯èƒ½ï¼‰æˆ–æ˜¾ç¤ºæ–‡ä»¶è·¯å¾„

æ»¡æ„å—ï¼Ÿ (Y/é‡æ–°ç”Ÿæˆ/è·³è¿‡)
```

- **Y** - æ›´æ–°æ–‡ç« ï¼Œç»§ç»­ä¸‹ä¸€å¼ 
- **é‡æ–°ç”Ÿæˆ** - é‡æ–°è°ƒç”¨ API
- **è·³è¿‡** - ä¸æ›´æ–°æ–‡ç« ï¼Œç»§ç»­ä¸‹ä¸€å¼ 

### 5. æ›´æ–°æ–‡ç« æ–‡ä»¶

**æ›¿æ¢é¢„ç•™æ ‡è®°ä¸ºå›¾ç‰‡é“¾æ¥ï¼š**

**æ›¿æ¢å‰ï¼š**
```markdown
>>> ğŸ–¼ï¸ IMAGE: Claude Codeæ˜¯ä¸€ä¸ªAIåŠ©æ‰‹å·¥å…· <<<

ä¸Šä¸‹æ–‡å†…å®¹...
```

**æ›¿æ¢åï¼š**
```markdown
![Claude Codeæ˜¯ä¸€ä¸ªAIåŠ©æ‰‹å·¥å…·](./{title}_images/image_01.png)

ä¸Šä¸‹æ–‡å†…å®¹...
```

### 6. å®Œæˆæ€»ç»“

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ… é…å›¾å®Œæˆ
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ç”Ÿæˆå›¾ç‰‡: {generated_count}/{total_count}
ä¿å­˜ä½ç½®: articles/{title}_images/

æ–‡ç« å·²æ›´æ–°: {article_file}
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## æç¤ºè¯ç”Ÿæˆè§„åˆ™

### ä¸Šä¸‹æ–‡æ„ŸçŸ¥ç­–ç•¥

**åŸºç¡€æç¤ºè¯ = é£æ ¼æ¨¡æ¿ + ç« èŠ‚å®Œæ•´å†…å®¹**

**é‡è¦åŸåˆ™ï¼š**
- ä½¿ç”¨**ç« èŠ‚å®Œæ•´å†…å®¹**è€Œéç®€å•çš„ä¸Šä¸‹æ–‡å¥å­
- ç« èŠ‚å†…å®¹èƒ½è®© AI æ›´å¥½åœ°ç†è§£å›¾ç‰‡è¦è¡¨è¾¾çš„æ¦‚å¿µå’Œä¸Šä¸‹æ–‡
- å°†æ•´ä¸ªç« èŠ‚çš„æ–‡æœ¬ï¼ˆå»æ‰å›¾ç‰‡é¢„ç•™æ ‡è®°ï¼‰æ‹¼æ¥åˆ°é£æ ¼æ¨¡æ¿çš„ `{description}` ä½ç½®

**å¯é€‰å¢å¼ºï¼ˆæ ¹æ®ç« èŠ‚å†…å®¹ï¼‰ï¼š**
- å¦‚æœç« èŠ‚åŒ…å«"æµç¨‹"ã€"æ­¥éª¤"ï¼Œæ·»åŠ "æµç¨‹å›¾"ç›¸å…³å…³é”®è¯
- å¦‚æœç« èŠ‚åŒ…å«"å¯¹æ¯”"ã€"åŒºåˆ«"ï¼Œæ·»åŠ "å¯¹æ¯”å›¾"ç›¸å…³å…³é”®è¯
- å¦‚æœç« èŠ‚åŒ…å«"æ ¸å¿ƒ"ã€"è¦ç‚¹"ï¼Œæ·»åŠ "è¦ç‚¹æ€»ç»“"ç›¸å…³å…³é”®è¯

### ç¤ºä¾‹

**è¾“å…¥ï¼š**
```
é¢„ç•™æè¿°: "Claude Codeæ˜¯ä»€ä¹ˆï¼Ÿç®€å•è¯´ï¼ŒClaude Codeæ˜¯ä¸€ä¸ªAIåŠ©æ‰‹å·¥å…·"
ç« èŠ‚å®Œæ•´å†…å®¹:
### Claude Codeæ˜¯ä»€ä¹ˆï¼Ÿ

ç®€å•è¯´ï¼ŒClaude Codeæ˜¯ä¸€ä¸ªAIåŠ©æ‰‹å·¥å…·ï¼Œå°±åƒä½ çš„ç§äººç§˜ä¹¦ã€‚

å®ƒçš„æ ¸å¿ƒèƒ½åŠ›åŒ…æ‹¬ï¼š

- å†™ä»£ç ï¼šä½ å‘Šè¯‰å®ƒæƒ³åšä»€ä¹ˆï¼Œå®ƒè‡ªåŠ¨å†™ä»£ç 
- æ”¹ä»£ç ï¼šä»£ç æœ‰bugï¼Œå®ƒå¸®ä½ æ”¹
- å†™æ–‡ç« ï¼šå†™åšå®¢ã€å†™æŠ¥å‘Šã€å†™æ•™ç¨‹ï¼Œéƒ½èƒ½å¸®å¿™
- åšè°ƒç ”ï¼šæœé›†èµ„æ–™ã€æ•´ç†ä¿¡æ¯ã€åˆ†ææ•°æ®
- è¿è¡Œå‘½ä»¤ï¼šåœ¨ç»ˆç«¯æ‰§è¡Œå„ç§æ“ä½œ
- æ–‡ä»¶ç®¡ç†ï¼šè¯»å†™æ–‡ä»¶ã€æœç´¢å†…å®¹ã€æ‰¹é‡å¤„ç†

æ‰€ä»¥å®ƒä¸åªæ˜¯å†™ä»£ç çš„ï¼Œæ›´åƒä¸€ä¸ªä¸‡èƒ½AIåŠ©æ‰‹ã€‚
```

**ç”Ÿæˆæç¤ºè¯ï¼š**
```
#è§’è‰²
ä½ æ˜¯ä¸€ä½ä¸“ä¸šçš„è§†è§‰ç¬”è®°è‰ºæœ¯å®¶å’Œä¿¡æ¯è®¾è®¡å¸ˆã€‚
...
æˆ‘æä¾›çš„å†…å®¹æ˜¯: Claude Codeæ˜¯ä»€ä¹ˆï¼Ÿç®€å•è¯´ï¼ŒClaude Codeæ˜¯ä¸€ä¸ªAIåŠ©æ‰‹å·¥å…·ï¼Œå°±åƒä½ çš„ç§äººç§˜ä¹¦ã€‚å®ƒçš„æ ¸å¿ƒèƒ½åŠ›åŒ…æ‹¬ï¼šå†™ä»£ç ã€æ”¹ä»£ç ã€å†™æ–‡ç« ã€åšè°ƒç ”ã€è¿è¡Œå‘½ä»¤ã€æ–‡ä»¶ç®¡ç†ã€‚æ‰€ä»¥å®ƒä¸åªæ˜¯å†™ä»£ç çš„ï¼Œæ›´åƒä¸€ä¸ªä¸‡èƒ½AIåŠ©æ‰‹ã€‚
```

## é”™è¯¯å¤„ç†

### API è°ƒç”¨å¤±è´¥

```
âŒ API è°ƒç”¨å¤±è´¥

é”™è¯¯ä¿¡æ¯: {error_message}

å¯èƒ½çš„åŸå› :
- API æœåŠ¡ä¸å¯ç”¨
- API Key æ— æ•ˆ
- ç½‘ç»œè¿æ¥é—®é¢˜

è¯·æ£€æŸ¥:
1. é…ç½®æ–‡ä»¶ .claude/config.json ä¸­çš„ API è®¾ç½®
2. API æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ

æ“ä½œ:
(R)é‡è¯• / (S)è·³è¿‡æ­¤å›¾ç‰‡ / (Q)é€€å‡º
```

### å›¾ç‰‡ä¿å­˜å¤±è´¥

```
âŒ å›¾ç‰‡ä¿å­˜å¤±è´¥

é”™è¯¯ä¿¡æ¯: {error_message}

è¯·æ£€æŸ¥:
1. ç›®å½•æ˜¯å¦å­˜åœ¨
2. ç£ç›˜ç©ºé—´æ˜¯å¦å……è¶³

æ“ä½œ:
(R)é‡è¯• / (S)è·³è¿‡æ­¤å›¾ç‰‡
```

## æœ€ä½³å®è·µ (Best Practices)

- **æ¯å¼ å›¾ç‰‡éƒ½å¿…é¡»ç¡®è®¤**ï¼šç»ä¸è‡ªåŠ¨è°ƒç”¨ API ç”Ÿæˆ
- **æ˜¾ç¤ºå®Œæ•´ä¸Šä¸‹æ–‡**ï¼šè®©ç”¨æˆ·äº†è§£å›¾ç‰‡åœ¨æ–‡ç« ä¸­çš„ä½ç½®
- **é¢„è§ˆæç¤ºè¯**ï¼šç”Ÿæˆå‰è®©ç”¨æˆ·çœ‹åˆ°å®Œæ•´çš„æç¤ºè¯
- **å…è®¸ç¼–è¾‘**ï¼šç”¨æˆ·å¯ä»¥ä¿®æ”¹æç¤ºè¯åå†ç”Ÿæˆ
- **ä¿å­˜åŸæ–‡ä»¶**ï¼šæ¯æ¬¡æ›´æ–°æ–‡ç« æ—¶ï¼Œä¿ç•™åŸæ–‡ä»¶ä¸ºå¤‡ä»½
- **å›¾ç‰‡ç›®å½•å‘½å**ï¼šä½¿ç”¨æ–‡ç« æ ‡é¢˜ + _images åç¼€

## é…ç½®è¯´æ˜

é…ç½®æ–‡ä»¶ä½ç½®: `writing-agent/.claude/config.json`

```json
{
  "imageGeneration": {
    "enabled": false,
    "provider": "google",
    "model": "nano-banana-pro",
    "apiKey": "sk-cli-proxy-api-test-key",
    "apiEndpoint": "http://localhost:8317",
    "defaultStyle": "è§†è§‰ç¬”è®°æ‰‹ç»˜",
    "imageFormat": "png",
    "savePath": "articles/{title}_images/",
    "placeholderFormat": ">>> ğŸ–¼ï¸ IMAGE: {description} <<<"
  }
}
```

## å·¥ä½œæµä½ç½®

```
ç”¨æˆ·è¯·æ±‚ â†’ writing-clarifier â†’ research-expert (å¯é€‰) â†’ style-modeler (å¯é€‰)
    â†’ writing-executor â†’ editor-review â†’ é…å›¾ç”Ÿæˆ (å¯é€‰) â†’ æœ€ç»ˆç¨¿
```

**åœ¨æ¾„æ¸…å†™ä½œéœ€æ±‚é˜¶æ®µè¯¢é—®ï¼š**
```
âœ… å†™ä½œéœ€æ±‚å·²ç¡®è®¤ï¼ä¸‹ä¸€æ­¥æ‚¨æƒ³ï¼š
...
C. ã€éœ€è¦é…å›¾ã€‘æ–‡ç« å®Œæˆåä½¿ç”¨ AI ç”Ÿæˆæ’å›¾
```

## ç¤ºä¾‹ (Examples)

**ç”¨æˆ·ï¼š** æ–‡ç« å†™å®Œäº†ï¼Œå¸®æˆ‘é…å›¾

**AIï¼š**
```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“¸ é…å›¾ç”Ÿæˆ
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

æ‰«ææ–‡ç« : åˆ«å†èŠ±å†¤æ‰é’±äº†ï¼ç”¨è¿™ä¸ª"é»‘ç§‘æŠ€"å§¿åŠ¿ï¼Œå…è´¹ç™½å«– Claude 4.5 å’Œè°·æ­Œæœ€å¼ºç”Ÿå›¾æ¨¡å‹_æœ€ç»ˆç¨¿.md

æ‰¾åˆ° 3 ä¸ªå›¾ç‰‡é¢„ç•™ä½ç½®

å½“å‰å¯ç”¨é£æ ¼:
âœ“ è§†è§‰ç¬”è®°æ‰‹ç»˜

ä½¿ç”¨æ­¤é£æ ¼ï¼Ÿ(Y/N)
```

## ç‰ˆæœ¬è®°å½• (Version History)

- v1.1.0 (2025-01-10): ä¼˜åŒ–æç¤ºè¯ç”Ÿæˆç­–ç•¥ï¼Œä½¿ç”¨ç« èŠ‚å®Œæ•´å†…å®¹æ›¿ä»£ç®€å•ä¸Šä¸‹æ–‡ï¼Œæå‡å›¾ç‰‡ç”Ÿæˆè´¨é‡
- v1.0.0 (2025-01-10): åˆå§‹ç‰ˆæœ¬ï¼Œæ”¯æŒ Google Nano Banana Pro æ¨¡å‹
